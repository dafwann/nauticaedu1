import{_ as T,p,q as $,s as x,c as e,a as t,h as m,t as f,F as S,f as A,w as b,n as B,i as d,k as r,y as E,o as i}from"./app-CNL93yYO.js";const L={class:"admin-komunitas"},P={class:"page-header"},F={class:"header-content"},M={class:"header-actions"},D={class:"table-section"},I={class:"table-container"},j={class:"table-header"},O={class:"table-info"},J={class:"table-wrapper"},R={class:"komunitas-table"},q=["onClick"],z=["src","alt"],G=["href"],K={class:"link-url"},H={class:"action-buttons"},Q=["onClick"],W={key:0,class:"empty-state"},X={class:"modal-header"},Y={class:"modal-body"},Z={class:"form-group"},tt={class:"form-group"},lt={class:"form-group"},st={key:0,class:"image-preview-small"},ot=["src"],at={class:"modal-footer"},nt=["disabled"],et={class:"modal-body"},it={class:"form-group"},ut={class:"form-group"},dt={class:"form-group"},rt={key:0,class:"image-preview-small"},vt=["src"],mt={class:"form-group"},y="http://localhost:8000/api/events",pt={__name:"Volunteer",setup(ft){const v=p([]),u=p(!1),a=p({nama:"",link:"",foto:"",status:"aktif"}),h=$(()=>a.value.nama&&a.value.link&&a.value.foto),o=p(null),k=async()=>{try{const l=await(await fetch(y)).json();v.value=l.data||[]}catch(n){console.error("Fetch error:",n),v.value=[]}},w=async()=>{await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nama:a.value.nama,link:a.value.link,foto:a.value.foto,status:"aktif"})}),u.value=!1,a.value={nama:"",link:"",foto:"",status:"aktif"},k()},C=n=>{o.value={...n}},_=async()=>{await fetch(`${y}/${o.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.value)}),o.value=null,k()},c=()=>o.value=null,V=n=>window.open(n,"_blank"),U=n=>n.length>40?n.slice(0,37)+"...":n,g=n=>n.target.style.display="none";return x(k),(n,l)=>(i(),e("div",L,[t("div",P,[t("div",F,[l[15]||(l[15]=t("div",{class:"header-text"},[t("h1",null,"ðŸ¤ Management Volunteer"),t("p",null,"Kelola data volunteer yang muncul di halaman community"),t("div",{class:"page-notice"},' ðŸ’¡ Volunteer dengan status "aktif" akan tampil di halaman volunteer ')],-1)),t("div",M,[t("button",{onClick:l[0]||(l[0]=s=>u.value=!0),class:"btn-primary"},"âž• Tambah Volunteer")])])]),t("div",D,[t("div",I,[t("div",j,[t("div",O,"Total "+f(v.value.length)+" volunteer",1)]),t("div",J,[t("table",R,[l[17]||(l[17]=t("thead",null,[t("tr",null,[t("th",null,"Gambar"),t("th",null,"Nama"),t("th",null,"Link"),t("th",null,"Status"),t("th",null,"Aksi")])],-1)),t("tbody",null,[(i(!0),e(S,null,A(v.value,s=>(i(),e("tr",{key:s.id},[t("td",null,[t("div",{class:"image-preview",onClick:N=>V(s.foto)},[t("img",{src:s.foto,alt:s.nama,class:"thumbnail-preview"},null,8,z),l[16]||(l[16]=t("span",{class:"preview-hint"},"ðŸ‘ï¸ Preview",-1))],8,q)]),t("td",null,f(s.nama),1),t("td",null,[t("a",{href:s.link,target:"_blank",class:"external-link",onClick:l[1]||(l[1]=b(()=>{},["stop"]))},"ðŸ”— Buka Link",8,G),t("div",K,f(U(s.link)),1)]),t("td",null,[t("span",{class:B(["status-badge",s.status])},f(s.status==="aktif"?"Aktif":"Non-Aktif"),3)]),t("td",null,[t("div",H,[t("button",{class:"btn-action edit",onClick:N=>C(s)},"âœï¸",8,Q)])])]))),128))])]),v.value.length===0?(i(),e("div",W,[l[18]||(l[18]=t("div",{class:"empty-icon"},"ðŸ¤",-1)),l[19]||(l[19]=t("h3",null,"Belum ada volunteer",-1)),t("button",{onClick:l[2]||(l[2]=s=>u.value=!0),class:"btn-primary"},"âž• Tambah Volunteer Pertama")])):m("",!0)])])]),u.value?(i(),e("div",{key:0,class:"modal-backdrop",onClick:l[9]||(l[9]=s=>u.value=!1)},[t("div",{class:"modal",onClick:l[8]||(l[8]=b(()=>{},["stop"]))},[t("div",X,[l[20]||(l[20]=t("h3",null,"âž• Tambah Volunteer",-1)),t("button",{class:"modal-close",onClick:l[3]||(l[3]=s=>u.value=!1)},"Ã—")]),t("div",Y,[t("div",Z,[l[21]||(l[21]=t("label",null,"Nama *",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>a.value.nama=s),class:"form-input",type:"text"},null,512),[[r,a.value.nama]])]),t("div",tt,[l[22]||(l[22]=t("label",null,"Link *",-1)),d(t("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>a.value.link=s),class:"form-input",type:"url"},null,512),[[r,a.value.link]])]),t("div",lt,[l[23]||(l[23]=t("label",null,"URL Foto *",-1)),d(t("input",{"onUpdate:modelValue":l[6]||(l[6]=s=>a.value.foto=s),class:"form-input",type:"url"},null,512),[[r,a.value.foto]]),a.value.foto?(i(),e("div",st,[t("img",{src:a.value.foto,onError:g},null,40,ot)])):m("",!0)])]),t("div",at,[t("button",{class:"btn-secondary",onClick:l[7]||(l[7]=s=>u.value=!1)},"Batal"),t("button",{class:"btn-primary",onClick:w,disabled:!h.value},"ðŸ’¾ Simpan",8,nt)])])])):m("",!0),o.value?(i(),e("div",{key:1,class:"modal-backdrop",onClick:c},[t("div",{class:"modal",onClick:l[14]||(l[14]=b(()=>{},["stop"]))},[t("div",{class:"modal-header"},[l[24]||(l[24]=t("h3",null,"âœï¸ Edit Volunteer",-1)),t("button",{class:"modal-close",onClick:c},"Ã—")]),t("div",et,[t("div",it,[l[25]||(l[25]=t("label",null,"Nama *",-1)),d(t("input",{"onUpdate:modelValue":l[10]||(l[10]=s=>o.value.nama=s),class:"form-input",type:"text"},null,512),[[r,o.value.nama]])]),t("div",ut,[l[26]||(l[26]=t("label",null,"Link *",-1)),d(t("input",{"onUpdate:modelValue":l[11]||(l[11]=s=>o.value.link=s),class:"form-input",type:"url"},null,512),[[r,o.value.link]])]),t("div",dt,[l[27]||(l[27]=t("label",null,"URL Foto *",-1)),d(t("input",{"onUpdate:modelValue":l[12]||(l[12]=s=>o.value.foto=s),class:"form-input",type:"url"},null,512),[[r,o.value.foto]]),o.value.foto?(i(),e("div",rt,[t("img",{src:o.value.foto,onError:g},null,40,vt)])):m("",!0)]),t("div",mt,[l[29]||(l[29]=t("label",null,"Status",-1)),d(t("select",{"onUpdate:modelValue":l[13]||(l[13]=s=>o.value.status=s),class:"form-select"},[...l[28]||(l[28]=[t("option",{value:"aktif"},"Aktif",-1),t("option",{value:"non-aktif"},"Non-Aktif",-1)])],512),[[E,o.value.status]])])]),t("div",{class:"modal-footer"},[t("button",{class:"btn-secondary",onClick:c},"Batal"),t("button",{class:"btn-primary",onClick:_},"ðŸ’¾ Update")])])])):m("",!0)]))}},ct=T(pt,[["__scopeId","data-v-b5f2d990"]]);export{ct as default};
