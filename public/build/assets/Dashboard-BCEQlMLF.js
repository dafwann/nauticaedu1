import{_ as b,c as f,a as t,h as k,t as o,d as r,e as c,b as w,r as S,p as m,q as U,s as D,x as A,o as p}from"./app-BWjWeHVC.js";const C={name:"AdminDashboard",setup(){const l=m({name:"Administrator",email:"admin@ecolearn.com",role:"Super Admin"}),s=m({totalUsers:0,totalNews:0,totalCommunities:0,totalVolunteers:0}),v=m(""),a=m(!1);let u=null;const _=U(()=>l.value.name?l.value.name.split(" ").map(n=>n[0]).join("").toUpperCase().substring(0,2):"A"),i=()=>{try{const n=localStorage.getItem("userData");if(n){const e=JSON.parse(n);l.value={...l.value,...e,name:e.username||e.name||"Administrator"}}}catch(n){console.error("User Data Error:",n)}},d=async()=>{a.value=!0;try{const e=await(await fetch("http://localhost:8000/api/admin/stats")).json();s.value={totalUsers:e.totalUsers,totalNews:e.totalNews,totalCommunities:e.totalCommunities,totalVolunteers:e.totalVolunteers,userGrowth:0,newsGrowth:0,communityGrowth:0,volunteerGrowth:0},v.value=new Date().toLocaleTimeString("id-ID")}catch(n){console.error(n)}finally{a.value=!1}},h=()=>{u=setInterval(d,3e4)},g=()=>{u&&clearInterval(u)};return D(()=>{i(),d(),h()}),A(()=>g()),{stats:s,userData:l,userInitials:_,loading:a,lastUpdateTime:v,fetchStats:d}}},N={class:"admin-dashboard"},I={class:"dashboard-header"},V={class:"header-content"},x={class:"header-text"},y={key:0,class:"last-update"},T={class:"admin-profile"},B={class:"profile-card"},K={class:"avatar"},M={class:"profile-details"},L={class:"role-badge"},G={class:"stats-section"},P={class:"stats-container"},E={class:"stats-header"},j={class:"stats-actions"},R=["disabled"],q={class:"stats-grid"},J={class:"stat-card"},O={class:"stat-content"},Q={class:"stat-number"},z={class:"stat-card"},F={class:"stat-content"},H={class:"stat-number"},W={class:"stat-card"},X={class:"stat-content"},Y={class:"stat-number"},Z={class:"stat-card"},$={class:"stat-content"},tt={class:"stat-number"},st={class:"main-content"},at={class:"content-section"},ot={class:"actions-grid"};function nt(l,s,v,a,u,_){const i=S("router-link");return p(),f("div",N,[t("div",I,[t("div",V,[t("div",x,[s[1]||(s[1]=t("h1",null,"üìä Dashboard Admin",-1)),s[2]||(s[2]=t("p",null,"Selamat datang di panel administrator",-1)),a.lastUpdateTime?(p(),f("div",y," üîÑ Terupdate: "+o(a.lastUpdateTime),1)):k("",!0)]),t("div",T,[t("div",B,[t("div",K,o(a.userInitials),1),t("div",M,[t("h4",null,o(a.userData.name),1),t("p",null,o(a.userData.email),1),t("span",L,o(a.userData.role),1)])])])])]),t("div",G,[t("div",P,[t("div",E,[s[4]||(s[4]=t("h2",null,"Statistik Platform",-1)),t("div",j,[r(i,{to:"/profile",class:"refresh-btn back-btn"},{default:c(()=>[...s[3]||(s[3]=[w(" ‚¨Ö Back ",-1)])]),_:1}),t("button",{onClick:s[0]||(s[0]=(...d)=>a.fetchStats&&a.fetchStats(...d)),class:"refresh-btn",disabled:a.loading},o(a.loading?"üîÑ Memuat...":"üîÑ Refresh"),9,R)])]),t("div",q,[t("div",J,[s[6]||(s[6]=t("div",{class:"stat-icon"},"üôÜ",-1)),t("div",O,[t("div",Q,o(a.stats.totalUsers.toLocaleString()),1),s[5]||(s[5]=t("div",{class:"stat-label"},"Total Pengguna",-1))])]),t("div",z,[s[8]||(s[8]=t("div",{class:"stat-icon"},"üóû",-1)),t("div",F,[t("div",H,o(a.stats.totalNews.toLocaleString()),1),s[7]||(s[7]=t("div",{class:"stat-label"},"Berita Publik",-1))])]),t("div",W,[s[10]||(s[10]=t("div",{class:"stat-icon"},"üèò",-1)),t("div",X,[t("div",Y,o(a.stats.totalCommunities.toLocaleString()),1),s[9]||(s[9]=t("div",{class:"stat-label"},"Komunitas Aktif",-1))])]),t("div",Z,[s[12]||(s[12]=t("div",{class:"stat-icon"},"üéó",-1)),t("div",$,[t("div",tt,o(a.stats.totalVolunteers.toLocaleString()),1),s[11]||(s[11]=t("div",{class:"stat-label"},"Relawan Aktif",-1))])])])])]),t("div",st,[t("div",at,[s[17]||(s[17]=t("h2",null,"Quick Actions",-1)),t("div",ot,[r(i,{to:"/admin/users",class:"action-card"},{default:c(()=>[...s[13]||(s[13]=[t("div",{class:"action-icon"},"üë•",-1),t("div",{class:"action-content"},[t("h3",null,"Kelola Pengguna"),t("p",null,"Management data pengguna")],-1)])]),_:1}),r(i,{to:"/admin/berita",class:"action-card"},{default:c(()=>[...s[14]||(s[14]=[t("div",{class:"action-icon"},"üì∞",-1),t("div",{class:"action-content"},[t("h3",null,"Kelola Berita"),t("p",null,"Management konten berita")],-1)])]),_:1}),r(i,{to:"/admin/komunitas",class:"action-card"},{default:c(()=>[...s[15]||(s[15]=[t("div",{class:"action-icon"},"üèòÔ∏è",-1),t("div",{class:"action-content"},[t("h3",null,"Kelola Komunitas"),t("p",null,"Management komunitas")],-1)])]),_:1}),r(i,{to:"/admin/events",class:"action-card"},{default:c(()=>[...s[16]||(s[16]=[t("div",{class:"action-icon"},"ü§ù",-1),t("div",{class:"action-content"},[t("h3",null,"Kelola Event"),t("p",null,"Management kegiatan & volunteer")],-1)])]),_:1})])])])])}const it=b(C,[["render",nt],["__scopeId","data-v-03a8c01a"]]);export{it as default};
